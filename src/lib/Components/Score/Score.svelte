<script lang="ts">
	import { adjustScale, mapToRange } from '$lib/Utils';

	export let score: number;
	export let min = 0;
	export let max = 100;

	const adjusted = adjustScale(score, min, max);
	const width = 15.78;
	const mapped = mapToRange(score, min, max, -width, 0);
</script>

<svg
	width="24"
	height="24"
	viewBox="0 0 24 24"
	fill="none"
	xmlns="http://www.w3.org/2000/svg"
>
	<mask id="score-mask-{score}">
		<path
			d="M4.11011 2.89001H19.8901V21.11H4.11011V2.89001Z"
			fill="white"
			transform="translate({mapped}, 0)"
		/>
	</mask>

	<path
		d="M11.0617 2.54492C11.3833 1.67281 12.6167 1.67281 12.9383 2.54492L14.4122 6.54276C14.579 6.99515 15.0448 7.26411 15.52 7.18236L19.7192 6.45989C20.6352 6.30228 21.252 7.3705 20.6574 8.08501L17.9322 11.3604C17.6238 11.731 17.6238 12.2689 17.9322 12.6396L20.6575 15.9149C21.252 16.6294 20.6352 17.6977 19.7192 17.5401L15.52 16.8176C15.0448 16.7358 14.579 17.0048 14.4122 17.4572L12.9383 21.455C12.6167 22.3271 11.3833 22.3271 11.0617 21.455L9.58782 17.4572C9.42103 17.0048 8.95518 16.7358 8.48 16.8176L4.28081 17.5401C3.36478 17.6977 2.74804 16.6294 3.34255 15.9149L6.06782 12.6396C6.37621 12.2689 6.37621 11.731 6.06782 11.3604L3.34255 8.08501C2.74804 7.3705 3.36478 6.30228 4.28081 6.45989L8.48 7.18236C8.95518 7.26411 9.42103 6.99515 9.58782 6.54276L11.0617 2.54492Z"
		fill="#E4E2E4"
		mask="url(#score-mask-{score})"
	/>
	<path
		fill-rule="evenodd"
		clip-rule="evenodd"
		d="M13.4739 6.88868L12 2.89084L10.5261 6.88867C10.1925 7.79347 9.2608 8.33139 8.31044 8.16788L4.11125 7.44541L6.83652 10.7208C7.45331 11.4621 7.45331 12.5379 6.83652 13.2792L4.11125 16.5545L8.31044 15.8321C9.2608 15.6686 10.1925 16.2065 10.5261 17.1113L12 21.1091L13.4739 17.1113C13.8075 16.2065 14.7392 15.6686 15.6896 15.8321L19.8887 16.5545L17.1635 13.2792C16.5467 12.5379 16.5467 11.4621 17.1635 10.7208L19.8887 7.44541L15.6896 8.16788C14.7392 8.33139 13.8075 7.79347 13.4739 6.88868ZM12.9383 2.54492C12.6167 1.67281 11.3833 1.67281 11.0617 2.54492L9.58782 6.54276C9.42103 6.99515 8.95518 7.26411 8.48 7.18236L4.28081 6.45989C3.36478 6.30229 2.74804 7.3705 3.34255 8.08501L6.06782 11.3604C6.37621 11.731 6.37621 12.2689 6.06782 12.6396L3.34255 15.9149C2.74804 16.6295 3.36478 17.6977 4.28081 17.5401L8.48 16.8176C8.95518 16.7358 9.42103 17.0048 9.58782 17.4572L11.0617 21.455C11.3833 22.3271 12.6167 22.3271 12.9383 21.455L14.4122 17.4572C14.579 17.0048 15.0448 16.7358 15.52 16.8176L19.7192 17.5401C20.6352 17.6977 21.252 16.6295 20.6575 15.9149L17.9322 12.6396C17.6238 12.2689 17.6238 11.731 17.9322 11.3604L20.6574 8.08501C21.252 7.37051 20.6352 6.30228 19.7192 6.45989L15.52 7.18236C15.0448 7.26411 14.579 6.99515 14.4122 6.54276L12.9383 2.54492Z"
		fill="#6F6E77"
	/>
</svg>
